name: SISL Build

on:
  workflow_call:
    inputs:
      build-type:
        required: true
        type: string
      malloc-impl:
        required: true
        type: string
      prerelease:
        required: true
        type: string

jobs:
  SislDeps:
    uses: eBay/sisl/.github/workflows/build_dependencies.yml@master
    with:
      branch: master
      build-type: ${{ inputs.build-type }}
      malloc-impl: ${{ inputs.malloc-impl }}
      prerelease: ${{ inputs.prerelease }}
  NuraftMesgDeps:
    uses: ./.github/workflows/build_dependencies.yml
    with:
      branch: main
      build-type: ${{ matrix.build-type }}
      malloc-impl: ${{ matrix.malloc-impl }}
      prerelease: ${{ matrix.prerelease }}
